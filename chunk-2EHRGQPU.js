import{a as c}from"./chunk-MCRJI3T3.js";import{a as l}from"./chunk-KUPZ3H4M.js";var f=()=>l.get("experimentalCloseWatcher",!1)&&c!==void 0&&"CloseWatcher"in c,B=()=>{document.addEventListener("backbutton",()=>{})},m=()=>{let s=document,r=!1,a=()=>{if(r)return;let n=0,o=[],d=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(t,e){o.push({priority:t,handler:e,id:n++})}}});s.dispatchEvent(d);let u=async t=>{try{if(t?.handler){let e=t.handler(i);e!=null&&await e}}catch(e){console.error(e)}},i=()=>{if(o.length>0){let t={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(e=>{e.priority>=t.priority&&(t=e)}),r=!0,o=o.filter(e=>e.id!==t.id),u(t).then(()=>r=!1)}};i()};if(f()){let n,o=()=>{n?.destroy(),n=new c.CloseWatcher,n.onclose=()=>{a(),o()}};o()}else s.addEventListener("backbutton",a)},E=100,v=99;export{f as a,B as b,m as c,E as d,v as e};
